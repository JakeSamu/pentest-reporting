# Readme

This project is a sum of python scripts to generate one pentest report with LaTeX that primarily gets its input from markdown and json files.

The idea is to have the benefits of LaTeX without the downsides that come with it. Still, if you want to change the template, you need both, python and LaTeX, skills.

The template originated from work for JakePoint GmbH.

Currently the template is fully written in german and has no language files.

## Installation

* Download newest tectonic version for your OS here: https://github.com/tectonic-typesetting/tectonic/releases
    - Then drop it in the folder `automation` and replace it with `tectonic.exe` there.

## Usage

- All information in `controller.py -h`.
- The default mode runs through all python scripts that generates the LaTeX-files and then compiles the pdf.

### Commercial use

You can use this template for whatever you want, as long as you fulfill the following two conditions:
1. Do not remove the small note in bottom right corner on the 2nd page, where it states, where this template originates from.
2. You do not take any credit for creating this template, even if modified.

### Write a report

Using the default template, you only need to visit the directory "usersection". There you have everything you need to write your report. It consists of the following subdirectories:
1. appendix
    - Only needed if you want to have some appendix, like a large code snippet or a full tls scan.
    - It only uses markdown files.
2. findings
    - Well, you guessed correctly, you use this for documenting findings.
    - Each markdown file generates one finding.
    - The correct template has to be used, which you can also trigger via code snippets.
3. management
    - These three files there are generating a management summary. "empfehlungen.tex" is for general recommendations for the client, "ergebnisse.tex" is a high level summary of the findings and "untersuchungsumfang.tex" is the preamble to state what the report is about.
4. variables
    - Each json file has its own comment, more details there.
    - Generally the name of the fil should represents its usage. For example global-variables is for stuff that should never change over several projects, client is for client specific information, provider for your information, history for a list of versions of the report and scope ... well for the definition of the scope.
    - The only non-json file is logo.png. Change that to your own logo, which is then shown on the first pdf page.

Then we got the refs.bib, which is just a nice LaTeX way for referencing. It should already contain some important references. Feel free to add more an do a pull request.

#### LaTeX specific commands

Since the markdown files are converted to LaTeX with https://github.com/jakesamu/md2latex, it is possible to use the command `\ref{label}` to reference to specific labels inside the whole pdf.

Other forms of LaTeX commands are not supported inside the markdown files, but everything standard markdown itself uses, like tables, codeblocks and urls.

### Changing the template

Every chapter has its own folder inside the `template` folder.

The structure and representation of the whole report has to be either inside the files "document-full.tex" or "document-findings-only.tex", or even in the report.tex in the main project directory.

Each file that is generated automatically is represented with a string that states this in the first line of the file itself.


### Changing/adding python scripts

If you want to add or change the automation that is done via python, look inside the folder automation.

## Remarks
- A new run with automation tries to cleanup the unused .tex files that are generated in the background.
- Runtime for very large reports could be bad, since I have not looked at runtime that much.
- Currently the language is in several places hardcoded to german. In the future this should be extracted to a nice language file. Though since I only need german reports, this feature is on the bottom of my todo-list at the moment.
